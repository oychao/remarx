!function(e){function n(n){for(var l,o,i=n[0],c=n[1],s=n[2],p=0,d=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(l in c)Object.prototype.hasOwnProperty.call(c,l)&&(e[l]=c[l]);for(u&&u(n);d.length;)d.shift()();return a.push.apply(a,s||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],l=!0,i=1;i<t.length;i++){var c=t[i];0!==r[c]&&(l=!1)}l&&(a.splice(n--,1),e=o(o.s=t[0]))}return e}var l={},r={0:0},a=[];function o(n){if(l[n])return l[n].exports;var t=l[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=l,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var l in e)o.d(t,l,function(n){return e[n]}.bind(null,l));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=n,i=i.slice();for(var s=0;s<i.length;s++)n(i[s]);var u=c;a.push([303,1]),t()}({299:function(e,n,t){var l=t(117),r=t(300);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},o=(l(r,a),r.locals?r.locals:{});e.exports=o},300:function(e,n,t){(n=t(118)(!1)).push([e.i,".app {\n  display: flex;\n  flex-flow: column nowrap;\n  height: 100%;\n  overflow: hidden;\n  white-space: pre;\n  width: 100%;\n}\n.app .app__header {\n  align-items: center;\n  border: solid 1px #111111;\n  border-width: 1px 0px;\n  background-color: #1a1a1a;\n  color: yellowgreen;\n  display: flex;\n  flex: 0 0 40px;\n}\n.app .app_main {\n  flex: 1 1 0px;\n  overflow-y: scroll;\n}\n.app .app_footer {\n  border-top: solid 1px #111111;\n  background-color: #1a1a1a;\n  color: orange;\n  flex: 0 0 100px;\n}\n",""]),e.exports=n},301:function(e,n,t){var l=t(117),r=t(302);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},o=(l(r,a),r.locals?r.locals:{});e.exports=o},302:function(e,n,t){(n=t(118)(!1)).push([e.i,"html,\nbody {\n  height: 100%;\n  width: 100%;\n}\nbody {\n  margin: 0;\n  padding: 0;\n  font-family: sans-serif;\n}\n#app {\n  height: 100%;\n  overflow: hidden;\n  width: 100%;\n}\n",""]),e.exports=n},303:function(e,n,t){"use strict";t.r(n);var l=t(0),r=t(119);const a=l.createContext(null);let o=null,i=null;function c(){return l.useContext(a)}window.addEventListener("message",e=>{const n=e.data;switch(n.type){case"UPDATE_GRAPH":i(n.payload),o(!1);break;case"START_ANALYZING":o(!0),i(null)}});var s=t(62);const u=({edge:e})=>{const{points:n}=e;let t=`M ${n[0].x+50} ${n[0].y+8}`;for(let e=1;e<n.length;e++){const l=n[e];t+=` L ${l.x+50} ${l.y+8}`}return l.createElement("path",{fill:"none",stroke:"red",d:t})},p=({node:e,determineStyle:n=(()=>({rectFill:"grey",textFill:"orange"})),onNodeClick:t=(()=>null)})=>{const{x:r,y:a,height:o,width:i,label:c}=e,s=n(e),u=l.useMemo(()=>{const e=c.split("/");let n=e.pop();if(n.includes("#")){const e=n.split(/#|\./);e[e.length-1]===e[0]&&(n=`#${e[0]}`)}return"index"===n.slice(0,5)?`${e.pop()}/${n}`:n},[c]),p=l.useCallback(()=>{t(e)},[c]);return l.createElement("g",{onClick:p,style:{cursor:"pointer"}},l.createElement("rect",{x:r,y:a,height:o,width:i,style:{fill:s.rectFill}}),l.createElement("text",{x:r,y:a+16,style:{fill:s.textFill}},u))};function d({graphModel:e,determineStyle:n,onNodeClick:t}){const r=function(e){const{nodes:n,dependencies:t}=e,l=new s.graphlib.Graph;l.setGraph({rankdir:"LR"}),l.setDefaultEdgeLabel(()=>({})),Object.entries(n).forEach(([e,n])=>{l.setNode(e,{label:e,width:100,height:16,detail:n})}),t.forEach(([e,n])=>{l.setEdge(e,n)}),s.layout(l,{rankdir:"LR"});let r=l.nodes().map(e=>l.node(e)),a=l.edges().map(e=>l.edge(e)),o=0,i=0,c=0,u=0;return r.forEach(e=>{o=e.x<o?e.x:o,i=e.y<i?e.y:i,c=e.x>c?e.x:c,u=e.y>u?e.y:u}),a.forEach(e=>{e.points.forEach(e=>{o=e.x<o?e.x:o,i=e.y<i?e.y:i,c=e.x>c?e.x:c,u=e.y>u?e.y:u})}),c-=o,u-=i,c+=200,u+=200,r=r.map(e=>Object.assign(Object.assign({},e),{x:e.x-o,y:e.y-i})),a=a.map(e=>Object.assign(Object.assign({},e),{points:e.points.map(({x:e,y:n})=>({x:e-o,y:n-i}))})),{nodes:r,edges:a,maxX:c,maxY:u}}(e);return l.createElement("svg",{height:r.maxY,width:r.maxX},r.edges.map((e,n)=>l.createElement(u,{key:n,edge:e})),r.nodes.map(e=>l.createElement(p,{key:e.label,node:e,determineStyle:n,onNodeClick:t})))}function f(e){return function(e){const n=e.charCodeAt(0);return n>64&&n<91}(e.label.split("#").pop())?{rectFill:"lightblue",textFill:"#555"}:{rectFill:"lightgreen",textFill:"#555"}}function h(){const{data:{topScopeGraphData:e},setCurNode:n}=c(),t=l.useCallback(e=>{n(e)},[]);return l.createElement(d,{graphModel:e,determineStyle:f,onNodeClick:t})}var m=function(e,n,t,l){return new(t||(t=Promise))((function(r,a){function o(e){try{c(l.next(e))}catch(e){a(e)}}function i(e){try{c(l.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,i)}c((l=l.apply(e,n||[])).next())}))};const y=acquireVsCodeApi();function g(e){return"/"===e.label.charAt(0)?{rectFill:"orange",textFill:"#555"}:{rectFill:"pink",textFill:"#555"}}function x(){const{data:{fileGraphData:e}}=c(),n=l.useCallback(e=>{!function(e){m(this,void 0,void 0,(function*(){y.postMessage({action:"OpenFile",payload:{path:e}})}))}(e.label.split("#")[0])},[]);return l.createElement(d,{graphModel:e,determineStyle:g,onNodeClick:n})}function b({}){const{curNode:e}=c();return l.createElement("div",null,l.createElement("pre",null,JSON.stringify(null==e?void 0:e.detail)))}function v(){const{mainView:e,setMainView:n}=c();return l.createElement("header",{className:"app__header"},l.createElement("input",{id:"select-index-1",type:"radio",name:"select-index",onChange:()=>n(0),checked:0===e}),l.createElement("label",{htmlFor:"select-index-1"},l.createElement("h4",null,"File Dependencies")),l.createElement("input",{id:"select-index-2",type:"radio",name:"select-index",onChange:()=>n(1),checked:1===e}),l.createElement("label",{htmlFor:"select-index-2"},l.createElement("h4",null,"Component & Hook Dependencies")))}t(299);t(301);r.render(l.createElement((function({children:e}){const[n,t]=l.useState(null),[r,c]=l.useState(!0),[s,u]=l.useState(null),[p,d]=l.useState(0);return o=c,i=t,l.createElement(a.Provider,{value:{analyzing:r,data:n,curNode:s,setCurNode:u,mainView:p,setMainView:d}},e)}),null,l.createElement((function(){const{analyzing:e,mainView:n}=c(),t=l.useMemo(()=>[l.createElement(x,null),l.createElement(h,null)][n],[n]);return l.createElement("div",{className:"app"},l.createElement(v,null),l.createElement("main",{className:"app_main"},e?"analyzing":t),l.createElement("footer",{className:"app_footer"},l.createElement(b,null)))}),null)),document.querySelector("#app"))}});